{"version":3,"sources":["algorithms/cuttingPlane.js","algorithms/simplexTableau.js","components/NavBar.js","components/PlotGraph.js","components/Dropzone.js","examples/index.js","components/ExamplesManager.js","components/InfoBox.js","components/OriginalProblem.js","components/RandomManager.js","components/Tableau.js","components/LPP.js","App.js","serviceWorker.js","index.js","utils.js"],"names":["computeSlackOrLine","slacks","bOverbarRim","BInvBRim","xBLabels","FOverbarRim","xFLabels","mode","x1Index","indexOf","x2Index","a","b","sign","toAdd","forEach","el","i","push","map","n","slack","reduce","prev","curr","optimalityTest","xStar","some","findIndex","x","Number","isInteger","formatNumber","_","require","dualFindPivot","cPrimeBarF","FOverbar","indexT","indexH","minValue","rowT","idx","valueIndexT","Math","abs","minLabelInt","parseInt","replace","showPivot","showIndexH","dualOptimalityTest","bOverbar","length","findPivot","colH","matrix","getCol","valueIndexH","showIndexT","init","A","cPrime","B","identity","range","BInv","inverse","F","slice","BInvB","multiply","bPrime","transpose","cPrimeB","zeros","cPrimeF","cBar0","cPrimeBarB","cPrimeBFOverbar","subtraction","point","getPoint","printTableau","console","log","JSON","stringify","l","updateTableau","prevTableau","aTH","zPivot","rowScale","rowAddMultiple","swapColumns","useStyles","makeStyles","theme","createStyles","appBar","zIndex","paddingLeft","spacer","width","toolbar","margin","NavBar","classes","AppBar","position","className","Toolbar","Typography","variant","color","typography","Plot","createPlotlyComponent","Plotly","PlotGraph","props","drawLines","feasibleRegion","lines","maxX","polygon","title","commonLine","type","line","dash","y","getY","getX","x0","y0","x1","y1","perimeter","shapes","polygonPath","acc","join","path","fillcolor","feasibleRegionXs","feasibleRegionYs","data","marker","size","name","align","display","style","height","layout","hovermode","xaxis","scaleanchor","scaleratio","yaxis","responsive","dropDiv","dropPaper","backgroundColor","overflowY","paper","padding","paperHide","root","Dropzone","getFile","hide","showMessage","Paper","accept","onDrop","accepted","rejected","reader","FileReader","onload","progressEvent","f","parse","this","result","e","SyntaxError","readAsText","getRootProps","getInputProps","example1","example2","example3","doc","ExamplesManager","useState","clicked","setClicked","Object","keys","files","k","key","loading","Description","onClick","fontSize","CircularProgress","info","listStyleType","infoEntry","textAlign","InfoBox","OriginalProblem","problem","objectiveFunction","subjectTo","constructEquation","arr","equation","cost","objectiveFunctionString","constraintsString","contraint","text","input","RandomManager","m","setM","TextField","label","inputProps","min","max","step","value","onChange","v","target","Button","disabled","generate","empty","pivot","pivotColumn","pivotRow","Tableau","page","Boolean","Table","TableHead","TableRow","TableCell","TableBody","n1","j","numbers","button","float","marginTop","marginRight","border","drop","marginLeft","transition","dropClosed","generator","graph","whiteSpace","grid","paperDiv","paperDivHide","overflow","LPP","setFeasibleRegion","file","setFile","setLines","setLoading","setMaxX","message","setMessage","phase","setPhase","setPolygon","stage","setStage","setStep","history","setHistory","setPage","finished","setFinished","findBoundingBox","polygonMaxX","polygonMaxY","polygonMinX","polygonMinY","floor","findIntegerFeasibleRegion","boundingBox","every","l_p1","l_p2","determinant","findIntersection","segment","c","x2","y2","Infinity","lambda","handleHistory","next","onIntegerSimplexAlgorithm","thisFile","startLines","startPolygon","thisLine","onAdd","startFeasibleRegion","maxxxX","drawAdmissiblePlan","thisPolygon","s","polygonLeft","polygonRight","currentPolygon","intersections","p1","p2","intersection","barycenter","d","algorithm","newPage","bOverbarGen","BInvBGen","FOverbarGen","bOverbarGenFloor","BInvBGenFloor","FOverbarGenFloor","includes","genRowIndex","onSimplexAlgorithm","infeasible","newLine","newSlackIndex","xBLabelsOld","initValues","isNaN","bOverbarIndexes","nonZeroElements","count","filter","minNonZeroCount","multiplyByMinusOne","setTimeout","Grid","container","direction","item","xs","link","document","createElement","href","window","URL","createObjectURL","Blob","setAttribute","Date","now","body","appendChild","click","onDownload","GetApp","logo","header","minHeight","flexDirection","alignItems","justifyContent","top","flexGrow","minWidth","centerPane","App","basename","exact","component","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","num","round","EPSILON","start","generateVector","generateSign","generateCoefficient","random","xBLables","x1Idx","x2Idx","r","isFinite"],"mappings":"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","file":"static/js/main.e18122c4.chunk.js","sourcesContent":["import { formatNumber } from '../utils';\r\n\r\nexport const computeSlackOrLine = (slacks, bOverbarRim, BInvBRim, xBLabels, FOverbarRim, xFLabels, mode='slack') => {\r\n    let x1Index = xBLabels.indexOf('x1');\r\n    let x2Index = xBLabels.indexOf('x2');\r\n    let a = null,\r\n        b = null;\r\n\r\n    let sign = -1;\r\n    if(mode==='line') sign = 1;\r\n\r\n    let toAdd = [];\r\n\r\n    //Different booleans: one in base, one out of base\r\n    if(x1Index>=0 ^ x2Index>=0){\r\n        //x1 in base\r\n        if(x1Index>=0){\r\n            x2Index = xFLabels.indexOf('x2');\r\n            b = FOverbarRim[x2Index];\r\n\r\n            a = BInvBRim[x1Index];\r\n\r\n            xBLabels.forEach((el, i) => {\r\n                if(i !== x1Index && BInvBRim[i] !== 0) toAdd.push(slacks[el].map(n => sign*n*BInvBRim[i]));\r\n            })\r\n\r\n            xFLabels.forEach((el, i) => {\r\n                if(i!== x2Index && FOverbarRim[i] !== 0) toAdd.push(slacks[el].map(n => sign*n*FOverbarRim[i]));\r\n            })\r\n        }\r\n        //x2 in base\r\n        else{\r\n            x1Index = xFLabels.indexOf('x1');\r\n            a = FOverbarRim[x1Index];\r\n\r\n            b = BInvBRim[x2Index];\r\n\r\n            xBLabels.forEach((el, i) => {\r\n                if(i!== x2Index && BInvBRim[i] !== 0) toAdd.push(slacks[el].map(n => sign*n*BInvBRim[i])); \r\n            })\r\n\r\n            xFLabels.forEach((el, i) => {\r\n                if(i !== x1Index && FOverbarRim[i] !== 0) toAdd.push(slacks[el].map(n => sign*n*FOverbarRim[i]));\r\n            })\r\n        }\r\n    }\r\n    //Same booleans: both in or out of base\r\n    else{\r\n        //both in base\r\n        if(x1Index>=0){\r\n            a = BInvBRim[x1Index];\r\n            b = BInvBRim[x2Index];\r\n\r\n            xBLabels.forEach((el, i) => {\r\n                if(i !== x1Index && i!== x2Index && BInvBRim[i] !== 0) toAdd.push(slacks[el].map(n => sign*n*BInvBRim[i]));\r\n            })\r\n\r\n            xFLabels.forEach((el, i) => {\r\n                if(FOverbarRim[i] !== 0) toAdd.push(slacks[el].map(n => sign*n*FOverbarRim[i]));\r\n            })\r\n        }\r\n        //both out of base\r\n        else{\r\n            x1Index = xFLabels.indexOf('x1');\r\n            x2Index = xFLabels.indexOf('x2');\r\n            \r\n            a = FOverbarRim[x1Index];\r\n            b = FOverbarRim[x2Index];\r\n\r\n            xFLabels.forEach((el, i) => {\r\n                if(i !== x1Index && i!== x2Index && FOverbarRim[i] !== 0) toAdd.push(slacks[el].map(n => sign*n*FOverbarRim[i]));\r\n            })\r\n\r\n            xBLabels.forEach((el, i) => {\r\n                if(BInvBRim[i] !== 0) toAdd.push(slacks[el].map(n => sign*n*BInvBRim[i]));\r\n            })\r\n        }\r\n    }\r\n\r\n    const slack = toAdd.reduce((prev, curr) => curr.map((el, i) => el + prev[i]), [a, b, bOverbarRim]);\r\n\r\n    return mode === 'line' ? [...slack, -1] : slack;\r\n}\r\n\r\nexport const optimalityTest = (xStar) => {\r\n    //INFEASIBLE SOLUTION\r\n    if(xStar.some(n => n<0)) return null;\r\n\r\n    return xStar.findIndex(x => !Number.isInteger(formatNumber(x[0])));\r\n}","import { matrix } from 'numbers';\r\nimport { getPoint, swapColumns } from '../utils';\r\n\r\nconst _ = require('lodash');\r\n\r\n\r\nexport const dualFindPivot = (cPrimeBarF, FOverbar, indexT, xFLabels) => {\r\n    let indexH = null, minValue = null;\r\n    let rowT = FOverbar[indexT];\r\n\r\n    cPrimeBarF[0].forEach((el, idx) => {\r\n        if(rowT[idx] < 0){\r\n            let valueIndexT = el / Math.abs(rowT[idx]);\r\n\r\n            //Bland's rule (Dual)\r\n            if(valueIndexT === minValue){\r\n                const minLabelInt = parseInt(xFLabels[indexH].replace('x', ''));\r\n                const valueIndexTLabelInt = parseInt(xFLabels[idx].replace('x', ''));\r\n\r\n                if(valueIndexTLabelInt < minLabelInt){\r\n                    minValue = valueIndexT;\r\n                    indexH = idx;\r\n                }\r\n            }\r\n            else if(valueIndexT < minValue || minValue === null){\r\n                minValue = valueIndexT;\r\n                indexH = idx;\r\n            }\r\n        }\r\n    });\r\n\r\n    return {\r\n        rowT, indexH, showPivot: true, showIndexH: true\r\n    }\r\n}\r\n\r\nexport const dualOptimalityTest = (bOverbar) => {\r\n    for(let i=0; i < bOverbar.length; i++) if(bOverbar[i][0] < 0) return i;\r\n    return null\r\n}\r\n\r\nexport const findPivot = (bOverbar, FOverbar, indexH) => {\r\n    let indexT = null, minValue = null;\r\n    let colH = matrix.getCol(FOverbar, indexH);\r\n\r\n    bOverbar.forEach((el, idx) => {\r\n        if(colH[idx] > 0){\r\n            let valueIndexH = el[0] / colH[idx];\r\n\r\n            if(valueIndexH < minValue || minValue === null){\r\n                minValue = valueIndexH;\r\n                indexT = idx;\r\n            }\r\n        }\r\n    });\r\n\r\n    return {\r\n        indexT, showPivot: true, showIndexT: true\r\n    }\r\n}\r\n\r\nexport const init = (A, b, cPrime) => {\r\n    let B = matrix.identity(A.length)\r\n\r\n    let xFLabels = _.range(1, A.length+1).map(n => `x${n}`);\r\n    let xBLabels = _.range(xFLabels.length+1, xFLabels.length+A.length+1).map(n => `x${n}`);\r\n\r\n    let BInv = matrix.inverse(B);\r\n    let F = A.slice();\r\n\r\n    let BInvB = matrix.multiply(BInv, B);\r\n\r\n    //TRASPOSTO PERCHE' DAL FILE LO STO PASSANDO COME UN VETTORE RIGA, MA DEVE ESSERE UN VETTORE COLONNA\r\n    let bPrime = matrix.transpose([b]);\r\n    \r\n    let bOverbar = matrix.multiply(BInv, bPrime);\r\n    let FOverbar = matrix.multiply(BInv, F);\r\n\r\n    //VETTORE DEI COSTI DELLE VARIABILI IN BASE: NULLO ALL'INIZIO PERCHE' HO LE SLACK IN BASE\r\n    let cPrimeB = matrix.zeros(1, B.length);\r\n\r\n    //VETTORE DEI COSTI DELLE VARIABILI FUORI BASE\r\n    let cPrimeF = [cPrime.slice()];\r\n\r\n    let cPrimeBbOverbar = matrix.multiply(cPrimeB, bOverbar);\r\n    let cBar0 = -cPrimeBbOverbar[0][0];\r\n\r\n    //VETTORE DEI COSTI RIDOTTI DELLE VARIABILI IN BASE: NULLO ALL'INIZIO PERCHE' HO LE SLACK IN BASE\r\n    let cPrimeBarB = matrix.zeros(1, B[0].length)\r\n\r\n    //VETTORE DEI COSTI RIDOTTI DELLE VARIABILI FUORI BASE\r\n    let cPrimeBFOverbar = matrix.multiply(cPrimeB, FOverbar);\r\n    let cPrimeBarF = matrix.subtraction(cPrimeF, cPrimeBFOverbar);\r\n\r\n    let point = getPoint(xBLabels, bOverbar);\r\n\r\n    let slacks = {}\r\n\r\n    xBLabels.forEach((el,i) => {\r\n        slacks[el] = [\r\n            ...FOverbar[i].map(n => -n),\r\n            bOverbar[i][0]\r\n        ]\r\n    });\r\n\r\n    return {\r\n        cBar0, xBLabels, xFLabels, cPrimeBarB, cPrimeBarF, bOverbar, BInvB, FOverbar, point, slacks\r\n    }\r\n}\r\n\r\nexport const optimalityTest = cPrimeF => {\r\n    for(let i=0; i < cPrimeF.length; i++) if(cPrimeF[i] < 0) return i;\r\n}\r\n\r\nexport const printTableau = (cBar0, xBLabels, xFLabels, cPrimeBarB, cPrimeBarF, bOverbar, BInvB, FOverbar) => {\r\n    console.log('  ', 'cBar0', JSON.stringify(xBLabels), JSON.stringify(xFLabels));\r\n    console.log('-z', cBar0, JSON.stringify(cPrimeBarB[0]), JSON.stringify(cPrimeBarF[0]));\r\n    for(let l=0; l<bOverbar.length; l++){\r\n        console.log(xBLabels[l], bOverbar[l][0], JSON.stringify(BInvB[l]), JSON.stringify(FOverbar[l]));\r\n    }\r\n    console.log('\\n');\r\n}\r\n\r\nexport const updateTableau = (prevTableau) => {\r\n    let { cBar0, bOverbar, BInvB, FOverbar, cPrimeBarB, cPrimeBarF, xBLabels, xFLabels } = prevTableau;\r\n    const { indexH, indexT } = prevTableau;\r\n\r\n    const colH = matrix.getCol(FOverbar, indexH);\r\n\r\n    prevTableau.showPivot = false;\r\n    prevTableau.showIndexH = false;\r\n    prevTableau.showIndexT = false;\r\n\r\n    let aTH = colH[indexT];\r\n\r\n    //UPDATING TABLES\r\n    let zPivot = cPrimeBarF[0][indexH];\r\n\r\n    bOverbar = matrix.rowScale(bOverbar, indexT, 1/aTH);\r\n    BInvB = matrix.rowScale(BInvB, indexT, 1/aTH);\r\n    FOverbar = matrix.rowScale(FOverbar, indexT, 1/aTH);\r\n\r\n    cBar0 -= zPivot*bOverbar[indexT];\r\n\r\n    cPrimeBarB = matrix.subtraction(cPrimeBarB, [matrix.rowScale(BInvB, indexT, zPivot)[indexT]]);\r\n    cPrimeBarF = matrix.subtraction(cPrimeBarF, [matrix.rowScale(FOverbar, indexT, zPivot)[indexT]]);\r\n    \r\n    for(let l=0; l<bOverbar.length; l++){\r\n        if(l === indexT) continue;\r\n\r\n        bOverbar = matrix.rowAddMultiple(bOverbar, indexT, l, -colH[l]);\r\n        BInvB = matrix.rowAddMultiple(BInvB, indexT, l, -colH[l]);\r\n        FOverbar = matrix.rowAddMultiple(FOverbar, indexT, l, -colH[l]);\r\n    }\r\n    \r\n    [BInvB, FOverbar] = swapColumns(BInvB, indexT, FOverbar, indexH);\r\n    [cPrimeBarB, cPrimeBarF] = swapColumns(cPrimeBarB, indexT, cPrimeBarF, indexH);\r\n\r\n    [xBLabels[indexT], xFLabels[indexH]] = [xFLabels[indexH], xBLabels[indexT]];\r\n\r\n    return {\r\n        ...prevTableau, \r\n        ...{\r\n            cBar0, bOverbar, BInvB, FOverbar, cPrimeBarB, cPrimeBarF, \r\n            point: getPoint(xBLabels, bOverbar), xBLabels, xFLabels\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { Typography } from '@material-ui/core/';\r\n\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n  appBar: {\r\n    zIndex: 10,\r\n    paddingLeft: 0\r\n  },\r\n  spacer: {\r\n    width: 20\r\n  },\r\n  toolbar: {\r\n    margin: 0,\r\n    paddingLeft: \"10px !important\"\r\n  }\r\n}));\r\n\r\nlet NavBar = () => {\r\n  const classes = useStyles();\r\n    \r\n  return(\r\n    <AppBar position=\"absolute\" className={classes.appBar}>\r\n      <Toolbar className={classes.toolbar}>\r\n          <span className={classes.spacer}/>\r\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.typography}>\r\n              DECISION SCIENCE\r\n          </Typography>\r\n      </Toolbar>\r\n    </AppBar>\r\n  ) \r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\n\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport { getX, getY } from '../utils';\r\n\r\nimport Plotly from 'plotly.js';\r\nimport createPlotlyComponent from 'react-plotly.js/factory';\r\nconst Plot = createPlotlyComponent(Plotly);\r\n\r\nlet getPolygonPath = (perimeter) => perimeter.length ? `M${perimeter.reduce((acc, n) => `${acc}L${n.join(',')}`)}Z` : '';\r\n\r\nlet PlotGraph = (props) => {\r\n  var drawLines = []\r\n\r\n  const { feasibleRegion, lines, maxX, point, polygon, title } = props;\r\n\r\n  if(lines) drawLines = lines.map( n => {\r\n    let commonLine = {\r\n      type: 'line',\r\n      line: {\r\n        color: 'rgb(200, 0, 0)',\r\n        width: 1,\r\n        dash: 'dot'\r\n      }\r\n    }\r\n\r\n    if(n[0] === 0) {\r\n      const y = getY(n, maxX);\r\n      const x = getX(n, y);\r\n\r\n      return {\r\n        ...commonLine,\r\n        x0: -x, y0: y,\r\n        x1: x, y1: y\r\n      }\r\n    }\r\n\r\n    if(n[1] === 0) {\r\n      const x = getX(n, maxX);\r\n      const y = getY(n, x);\r\n\r\n      return {\r\n        ...commonLine,\r\n        x0: x, y0: -y,\r\n        x1: x, y1: y\r\n      }\r\n    }\r\n    \r\n    return {\r\n      ...commonLine,\r\n      x0: -maxX, y0: getY(n, -maxX),\r\n      x1: maxX, y1: getY(n, maxX)\r\n    }\r\n  });\r\n\r\n\r\n  let shapes = [...drawLines]\r\n  \r\n  let polygonPath = getPolygonPath(polygon)\r\n  if(polygonPath) shapes.push({\r\n    type: 'path',\r\n    path: polygonPath,\r\n    fillcolor: 'rgba(0, 0, 184, 0.2)',\r\n    line: {\r\n      color: 'rgb(0, 0, 184)',\r\n      width: 1,\r\n    }\r\n  })\r\n  \r\n  let feasibleRegionXs = [];\r\n  let feasibleRegionYs = [];\r\n  feasibleRegion.forEach(el => {\r\n    feasibleRegionXs.push(el[0]);\r\n    feasibleRegionYs.push(el[1]);\r\n  });\r\n\r\n  if(!feasibleRegion.length){\r\n    feasibleRegionXs = [null];\r\n    feasibleRegionYs = [null];\r\n  }\r\n\r\n  const data = [{\r\n    marker: {\r\n      color: 'blue',\r\n      size: 3\r\n    },\r\n    mode: 'markers',\r\n    name: 'feasible solutions',\r\n    type: 'scatter',\r\n    x: feasibleRegionXs,\r\n    y: feasibleRegionYs\r\n  }, {\r\n    marker: {\r\n      color: 'green',\r\n      size: 5\r\n    },\r\n    mode: 'markers',\r\n    name: 'current solution',\r\n    type: 'scatter',\r\n    x: [point ? point[0] : null],\r\n    y: [point ? point[1] : null]\r\n  }];\r\n  \r\n  return (\r\n    <>\r\n      <Typography align=\"left\" display=\"block\" variant=\"h6\">Geometric representation</Typography>\r\n      <Plot\r\n        style={{\r\n          height: \"50vh\"\r\n        }}\r\n        data = {data}\r\n        layout = {{\r\n          hovermode: 'closest',\r\n          shapes: shapes,\r\n          title: title,\r\n          xaxis: {\r\n            range: [-maxX/10, maxX],\r\n            scaleanchor: \"y\", \r\n            scaleratio: 1\r\n            // fixedrange: true\r\n          },\r\n          yaxis: {\r\n            range: [-maxX/10, maxX],\r\n            // fixedrange: true\r\n          },\r\n          // width: 1000,\r\n          // height: 500,\r\n          responsive: true,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PlotGraph;","import React from 'react';\r\nimport Drop from 'react-dropzone';\r\nimport {Paper} from '@material-ui/core';\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n    dropDiv: {\r\n        height: '100%'\r\n    },\r\n    dropPaper: {\r\n        height: '100%',\r\n        backgroundColor: 'rgba(0,0,0,0.1)',\r\n        overflowY: 'auto',\r\n        position: 'relative'\r\n    },\r\n    paper: {\r\n        height: 'calc(100% - 20px)',\r\n        padding: 10\r\n    },\r\n    paperHide: {\r\n        height: '100%'\r\n    },\r\n    root: {\r\n        width: '100%',\r\n        height: '100%',\r\n        display: 'block'\r\n    }\r\n}));\r\n\r\n\r\nlet Dropzone = (props) => {\r\n    const {getFile, hide, showMessage} = props;\r\n\r\n    const classes = useStyles();\r\n\r\n    let validate = f => {\r\n        // if(!(f.nodes && f.edges)){\r\n        //     this.showMessage('Missing at least one of the following keywords: nodes | edges');\r\n        //     return false;\r\n        // }\r\n\r\n        // if(!(Array.isArray(f.nodes) && Array.isArray(f.edges))){\r\n        //     this.showMessage('Type error: nodes & edges must be array of objects');\r\n        //     return false;\r\n        // }\r\n\r\n        // let {nodes, edges} = this.modes[this.mode];\r\n\r\n        // let nodesIds = [];\r\n        // for(const [i, el] of f.nodes.entries()){\r\n        //     if(!nodes.every((e) => Object.keys(el).includes(e))){\r\n        //         this.showMessage(`Node at index [${i}] misses at least one of the following keywords: ${nodes.join(' | ')}`);\r\n        //         return false;\r\n        //     }\r\n        //     nodesIds.push(el.id);\r\n        // }\r\n\r\n        // for(const [i, el] of f.edges.entries()){\r\n        //     if(!edges.every((e) => Object.keys(el).includes(e))){\r\n        //         this.showMessage(`Edge at index [${i}] misses at least one of the following keywords: ${edges.join(' | ')}`);\r\n        //         return false;\r\n        //     }\r\n\r\n        //     if(!(nodesIds.includes(el.source) && nodesIds.includes(el.target))){\r\n        //         this.showMessage(`Edge at index [${i}]: source or target node does not exist`);\r\n        //         return false;\r\n        //     }\r\n        // }\r\n\r\n        return true;\r\n    }\r\n\r\n    let onDrop = (accepted, rejected) => {\r\n        var reader = new FileReader();\r\n        \r\n        reader.onload = function(progressEvent){\r\n            try{\r\n                let f = JSON.parse(this.result);\r\n                if(!validate(f)) return;\r\n\r\n                getFile(f);\r\n            }\r\n            catch(e){\r\n                if (e instanceof SyntaxError) {\r\n                    showMessage('Not a JSON file');\r\n                    return;\r\n                }\r\n                else throw(e);\r\n            }\r\n        };\r\n\r\n        for (var f of accepted) {\r\n            reader.readAsText(f);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={hide ? classes.paperHide : classes.paper}>\r\n                <Drop accept=\".json\" onDrop={onDrop}>\r\n                    {({ getRootProps, getInputProps }) => (\r\n                        <div {...getRootProps()} className={classes.dropDiv}>\r\n                            <Paper className={classes.dropPaper}>\r\n                                <input {...getInputProps()}/>\r\n                                <div>\r\n                                    <p>Try dropping the file here, or click to select a file to upload.</p>\r\n                                </div>\r\n                            </Paper>\r\n                        </div>\r\n                    )}\r\n                </Drop>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dropzone;","import example1 from './example1.json'\r\nimport example2 from './example2.json'\r\nimport example3 from './example3.json'\r\n\r\nexport default {\r\n    example1,\r\n    example2,\r\n    example3\r\n};","  \r\nimport React, { useState } from 'react';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { Description } from '@material-ui/icons';\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nimport files from '../examples';\r\n// import adapt from '../utilities/arrangeNodes';\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n    doc: {\r\n        display: 'inline-block', \r\n        margin: 20\r\n    },\r\n}));\r\n\r\n\r\nlet ExamplesManager = (props) => {\r\n    const classes = useStyles();\r\n\r\n    var [ clicked, setClicked ] = useState();\r\n    \r\n    return (\r\n        <>\r\n            {/*Alternatively, t*/}Try one of the following examples:\r\n            \r\n            <br/>\r\n            \r\n            {Object.keys(files).map(k => (\r\n                <div key={k} className={classes.doc}>\r\n                    {!props.loading && <Description onClick={() => {setClicked(k); props.getFile( /*adapt(*/ files[k] /*)*/ )}} fontSize='large'/>}\r\n                    {props.loading && k===clicked && <CircularProgress color='inherit' fontSize='large'/>}\r\n                    <br/>\r\n                    {k}\r\n                </div>\r\n            ))}\r\n        </>\r\n)}\r\n\r\nexport default ExamplesManager;","import React from 'react';\r\n\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n    info: {\r\n        listStyleType: \"'»'\",\r\n        padding: 0,\r\n        width: '80%'\r\n    },\r\n    infoEntry: {\r\n        padding: 5,\r\n        textAlign: 'left'\r\n    },\r\n}));\r\n\r\nlet InfoBox = (props) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            <Typography align=\"left\" display=\"block\" variant=\"h6\">Info box</Typography>\r\n            <ul className={classes.info}>\r\n                {props.info && props.info.length > 0 ? props.info.map(n => (<li className={classes.infoEntry} key={n}>{n}<br/></li>)) : <li className={classes.infoEntry} key='emptyInfo'>No information available yet<br/></li>}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InfoBox;","import React from 'react';\r\n\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport Latex from 'react-latex';\r\n\r\nlet OriginalProblem = (props) => {\r\n    const { objectiveFunction, subjectTo: { A, b, sign } } = props.problem;\r\n\r\n    let constructEquation = (arr) =>{\r\n        let equation = \"\";\r\n        arr.forEach((cost, i) => {\r\n            if(cost !== 0){\r\n                if(!equation) {\r\n                    if(cost === 1) equation += `\\\\quad \\\\; \\\\; x_{${i+1}} `;\r\n                    else if(cost === -1) equation += `\\\\quad -x_{${i+1}} `;\r\n                    else {\r\n                        if(cost > 0) equation += `\\\\; \\\\; \\\\; ${cost}x_{${i+1}} `;\r\n                        else equation += `${cost}x_{${i+1}} `;\r\n                    }\r\n                }\r\n                else if(cost > 0){\r\n                    if(cost === 1) equation += `\\\\; \\\\; +x_{${i+1}} `;\r\n                    else equation += `+${cost}x_{${i+1}} `;\r\n                }\r\n                else {\r\n                    if(cost === -1) equation += `\\\\; -x_{${i+1}} `;\r\n                    else equation += `${cost}x_{${i+1}} `;\r\n                }\r\n            }\r\n            else{\r\n                equation += '\\\\; \\\\; \\\\; \\\\qquad ';\r\n            }\r\n        });\r\n\r\n        return equation;\r\n    }\r\n\r\n    let objectiveFunctionString = constructEquation(objectiveFunction);\r\n\r\n    let constraintsString = \"\";\r\n\r\n    A.forEach((contraint, i) => {\r\n        constraintsString += \" \\\\qquad \";\r\n        constraintsString += constructEquation(contraint);\r\n        constraintsString += sign[i] > 0 ? '\\\\geq ' : ( sign[i] < 0 ? '\\\\leq ' : '= ' );\r\n        constraintsString += `${b[i]} \\\\\\\\`;\r\n    })\r\n\r\n    constraintsString += \" \\\\qquad \\\\quad \\\\; x_1, \\\\quad \\\\; x_2  \\\\geq 0\";\r\n\r\n    const text = `$$\\\\begin{cases} \\\\min ${objectiveFunctionString} \\\\\\\\ ${constraintsString} \\\\end{cases}$$`;\r\n\r\n    return (\r\n        <>\r\n            <Typography align=\"left\" display=\"block\" variant=\"h6\">Formal problem</Typography>\r\n            <div style={{margin: '20px 0px'}}>\r\n                <Latex>{text}</Latex>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default OriginalProblem;","import React, { useState } from 'react';\r\nimport { Button, CircularProgress, TextField } from '@material-ui/core';\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nimport { generate } from '../utils';\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n    input: {\r\n        margin: 10,\r\n        width: 100\r\n    },\r\n}));\r\n\r\n\r\nlet RandomManager = (props) => {\r\n    const classes = useStyles();\r\n\r\n    let [ m, setM ] = useState(2);\r\n\r\n    let mMax = 50;\r\n    \r\n    return (\r\n    <>\r\n        Otherwise, you can generate a random linear problem:\r\n        <br/>\r\n        \r\n        <TextField className={classes.input} label='Constraints' type=\"number\" inputProps={{ min: 1, max: mMax, step: 1 }} value={m} onChange={(e) => {let v = e.target.value; setM(v > mMax ? mMax : v)}}/>\r\n        <br/>\r\n        <Button disabled={!m} variant='outlined' onClick={() => props.getFile(generate(m))}>{props.loading ? (<CircularProgress/>) : 'GENERATE'}</Button>\r\n        \r\n    </>\r\n)}\r\n\r\nexport default RandomManager;","import React from 'react';\r\n\r\nimport { Table, TableRow, TableHead, TableCell, TableBody, Typography } from '@material-ui/core';\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nimport { formatNumber } from '../utils';\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n    empty:{\r\n        textAlign: 'left'\r\n    },\r\n    pivot: {\r\n        backgroundColor: 'red',\r\n        color: 'white'\r\n    },\r\n    pivotColumn: {\r\n        backgroundColor: 'rgba(255,0,0,0.3)',\r\n        color: 'white'\r\n    },\r\n    pivotRow: {\r\n        backgroundColor: 'rgba(255,0,0,0.3)',\r\n        color: 'white',\r\n        '&>*': {\r\n            color: 'white'\r\n        }\r\n    }\r\n}));\r\n\r\nlet Tableau = (props) => {\r\n    const classes = useStyles();\r\n\r\n    const { bOverbar, BInvB, cBar0, cPrimeBarB, cPrimeBarF, FOverbar, indexH, indexT, showIndexH, showIndexT, showPivot, xBLabels, xFLabels } = props.page;\r\n\r\n    return (\r\n        <>\r\n            <Typography align=\"left\" display=\"block\" variant=\"h6\">Tableau</Typography>\r\n            {Boolean(Object.keys(props.page).length) && <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell key=\"head-empty-1\"></TableCell>\r\n                        <TableCell key=\"head-empty-2\"></TableCell>\r\n                        {xBLabels.map(n => (<TableCell key={`label-${n}`}>{n}</TableCell>))}\r\n                        {xFLabels.map((n, i) => (\r\n                            <TableCell \r\n                                key={`label-${n}`}\r\n                                className={\r\n                                    showIndexH && \r\n                                    indexH===i ? classes.pivotColumn : ''\r\n                                } \r\n                            >{n}</TableCell>\r\n                        ))}\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    <TableRow>\r\n                        <TableCell key='-z'>-z</TableCell>\r\n                        <TableCell key='cBar0'>{formatNumber(cBar0)}</TableCell>\r\n                        {cPrimeBarB[0].map((n, i) => (<TableCell key={`cPrimeBarB${i}`}>{formatNumber(n)}</TableCell>))}\r\n                        {cPrimeBarF[0].map((n, i) => (\r\n                            <TableCell \r\n                                key={`cPrimeBarF${i}`}\r\n                                className={\r\n                                    showIndexH && \r\n                                    indexH===i ? classes.pivotColumn : ''\r\n                                } \r\n                            >{formatNumber(n)}</TableCell>\r\n                        ))}\r\n                    </TableRow>\r\n                    {xBLabels.map((n,i) => (\r\n                        <TableRow key={`baseValuesRow${i}`}\r\n                            className={\r\n                                showIndexT && \r\n                                indexT===i ? classes.pivotRow : ''\r\n                            } \r\n                        >\r\n                            <TableCell key={`baseValues${n}`}>{n}</TableCell>\r\n                            <TableCell key={`bOverbar${i}`}>{formatNumber(bOverbar[i][0])}</TableCell>\r\n                            {BInvB[i].map((n1, j) => (<TableCell key={`BInvB${j}_${i},${n1}`}>{formatNumber(n1)}</TableCell>))}\r\n                            {FOverbar[i].map((n1, j) => (\r\n                                <TableCell \r\n                                    className={\r\n                                        showPivot && indexH===j && indexT===i ? classes.pivot : \r\n                                            showIndexH && indexH===j ? classes.pivotColumn : ''\r\n                                    } \r\n                                    key={`FOverbar${j}_${i},${n1}`}\r\n                                >\r\n                                    {formatNumber(n1)}\r\n                                </TableCell>\r\n                            ))}\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>}\r\n            {!Boolean(Object.keys(props.page).length) && <div className={classes.empty}>\r\n                Tableau will be displayed during algorithm execution\r\n            </div>} \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Tableau;","import React, { useState } from 'react';\r\nimport PlotGraph from './PlotGraph';\r\n\r\nimport Dropzone from './Dropzone';\r\nimport ExamplesManager from './ExamplesManager';\r\nimport InfoBox from './InfoBox';\r\nimport OriginalProblem from './OriginalProblem';\r\nimport RandomManager from './RandomManager';\r\nimport Tableau from './Tableau';\r\n\r\nimport { Button, Grid, Paper } from '@material-ui/core';\r\nimport { GetApp } from '@material-ui/icons';\r\n\r\nimport { formatNumber, getY } from '../utils';\r\n\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nvar numbers = require('numbers');\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n    button: {\r\n        float: 'left',\r\n        marginTop: 10,\r\n        marginRight: 10,\r\n        border: '1px solid rgba(0,0,0,0.3)'\r\n    },\r\n    drop: {\r\n        height: '40vh',\r\n        width: '80%',\r\n        marginTop: 50,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        transition: '1s'\r\n    },\r\n    dropClosed: {\r\n        height: 0,\r\n        width: '80%',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        transition: '1s'\r\n    },\r\n    generator: {\r\n        height: '10vh',\r\n        width: '80%',\r\n        marginTop: 50,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        transition: '1s'\r\n    },\r\n    graph: {\r\n        width: '80%',\r\n        height: 'calc(100% - 200px)',\r\n        margin: 'auto',\r\n        whiteSpace: 'nowrap'\r\n    },\r\n    grid: {\r\n        padding: 12\r\n    },\r\n    loading: {\r\n        width: 50,\r\n        float: 'right',\r\n        margin: '10px 10px'\r\n    },\r\n    paper: {\r\n        backgroundColor: 'rgb(200, 0, 0)',\r\n        color: 'white',\r\n        marginTop: 50,\r\n        width: '80%',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        fontSize: 20,\r\n    },\r\n    paperDiv: {\r\n        padding: '15px 0 15px 0',\r\n        width: '100%',\r\n        transition: '0.2s'\r\n    },\r\n    paperDivHide: {\r\n        height: 0,\r\n        width: '100%',\r\n        transition: '0.2s',\r\n        overflow: 'hidden'\r\n    },\r\n    spacer: {\r\n        position: 'relative',\r\n        height: 80\r\n    }\r\n}));\r\n\r\nconst DEBUG=false;\r\n\r\nlet LPP = () => {\r\n    let [feasibleRegion, setFeasibleRegion] = useState([]);\r\n    let [file, setFile] = useState();\r\n    let [lines, setLines] = useState([]);\r\n    let [loading, setLoading] = useState(false);\r\n    let [maxX, setMaxX] = useState(30);\r\n    let [message, setMessage] = useState('');\r\n    let [phase, setPhase] = useState(0);\r\n    let [polygon, setPolygon] = useState([ [0,0], [maxX + 5,0], [maxX + 5,maxX + 5], [0,maxX + 5] ]);\r\n    let [stage, setStage] = useState(0);\r\n    let [step, setStep] = useState(0);\r\n\r\n    let [history, setHistory] = useState([]);\r\n    let [page, setPage] = useState(0);\r\n    let [finished, setFinished] = useState(false);\r\n    \r\n    const classes = useStyles();\r\n\r\n    let drawAdmissiblePlan = (thisFile) => {\r\n        const { A, b, sign } = thisFile.subjectTo;\r\n\r\n        let startLines = lines;\r\n        let startPolygon = polygon;\r\n\r\n        A.forEach((el, i) => {\r\n            let thisLine = [el[0], el[1], -b[i], sign[i]]\r\n            startLines = [...startLines, thisLine]\r\n            startPolygon = onAdd(thisLine, startPolygon);\r\n        })\r\n\r\n\r\n        setLoading(false);\r\n\r\n        setFile(thisFile);\r\n        console.log('startLines', startLines)\r\n        setLines(startLines);\r\n        setPolygon(startPolygon);\r\n\r\n        let boundingBox = findBoundingBox(startPolygon);\r\n\r\n        let startFeasibleRegion = findIntegerFeasibleRegion(boundingBox, startPolygon);\r\n        setFeasibleRegion(startFeasibleRegion);\r\n\r\n        let maxxxX = startPolygon.reduce((acc, curr) =>  Math.max(acc, ...curr), 0) * 2;\r\n        setMaxX(maxxxX);\r\n    }\r\n    \r\n    let findBoundingBox = (polygon) => {\r\n        let polygonMaxX = null,\r\n            polygonMaxY = null,\r\n            polygonMinX = null,\r\n            polygonMinY = null;\r\n\r\n        if(!polygon.length) return null;\r\n        \r\n        polygon.forEach(el => {\r\n            const [x, y] = el.map(n => Math.floor(n));\r\n\r\n            polygonMaxX = polygonMaxX === null || x > polygonMaxX ? x : polygonMaxX;\r\n            polygonMaxY = polygonMaxY === null || y > polygonMaxY ? y : polygonMaxY;\r\n            polygonMinX = polygonMinX === null || x < polygonMinX ? x : polygonMinX;\r\n            polygonMinY = polygonMinY === null || y < polygonMinY ? y : polygonMinY;\r\n        })\r\n\r\n        return { polygonMaxX, polygonMaxY, polygonMinX, polygonMinY };\r\n    }\r\n\r\n    let findIntegerFeasibleRegion = (boundingBox, polygon) => {\r\n        if(!boundingBox) return [];\r\n\r\n        const { polygonMaxX, polygonMaxY, polygonMinX, polygonMinY } = boundingBox;\r\n\r\n        let feasibleRegion = [];\r\n\r\n        for(let i=polygonMinX; i<=polygonMaxX; i++){\r\n            for(let j=polygonMinY; j<=polygonMaxY; j++){\r\n\r\n                if(polygon.every((el, k) => {\r\n                    const l_p1 = el;\r\n                    const l_p2 = k === (polygon.length-1) ? polygon[0] : polygon[k+1];\r\n\r\n                    const d = numbers.matrix.determinant([\r\n                        [l_p1[0], l_p2[0], i],\r\n                        [l_p1[1], l_p2[1], j],\r\n                        [1, 1, 1],\r\n                    ]);\r\n\r\n                    return d >= 0;\r\n                })){\r\n                    feasibleRegion.push([i,j]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return feasibleRegion;\r\n    }\r\n\r\n    let findIntersection = (line, segment) => {\r\n        let [a, b, c] = line;\r\n        let [[x1, y1], [x2, y2]] = segment;\r\n\r\n        if(a/b === Infinity){\r\n            //Parallel to y axis\r\n            if((-c/a < x1 && -c/a > x2) || (-c/a > x1 && -c/a < x2)) {\r\n                let lambda = (x2 + c/a)/(x2 - x1)\r\n                let y = lambda * y1 + (1 - lambda) * y2;\r\n\r\n                return [formatNumber(-c/a), formatNumber(y)]\r\n            }\r\n        } \r\n        else if(b/a === Infinity){\r\n            //Parallel to x axis\r\n            if((-c/b < y1 && -c/b > y2) || (-c/b > y1 && -c/b < y2)) {\r\n                let lambda = (y2 + c/b)/(y2 - y1)\r\n                let x = lambda * x1 + (1 - lambda) * x2;\r\n\r\n                return [formatNumber(x), formatNumber(-c/b)]\r\n            }\r\n        } \r\n        else{\r\n            let lambda = - (a*x2 + b*y2 + c)/(a*(x1-x2) + b*(y1-y2));\r\n\r\n            if(lambda && lambda >= 0 && lambda <= 1){\r\n                let x = lambda * x1 + (1 - lambda) * x2;\r\n                let y = lambda * y1 + (1 - lambda) * y2;\r\n\r\n                return [formatNumber(x), formatNumber(y)]\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    let handleHistory = (next = false) => {\r\n        if(next){\r\n            //Create new page only if algorithm has not finished and next page does not exist\r\n            if(!((history[page] && history[page].finished) || history[page+1])){\r\n                onIntegerSimplexAlgorithm();\r\n            }\r\n            if(history[0]) setPage(page+1);\r\n        }\r\n        else{\r\n            if(history[page]) setPage(page-1)\r\n        }\r\n    }\r\n\r\n    let getFile = f => {\r\n        setLoading(true);\r\n        if(DEBUG) console.log('FILE:', f)\r\n        drawAdmissiblePlan(f);\r\n    }\r\n\r\n    let onAdd = (line, thisPolygon) => {\r\n        const [a, b, c, s] = line;\r\n\r\n        if(DEBUG){\r\n            console.log(`Adding ${a}x`, `${b > 0 ? '+' : '-'} ${Math.abs(b)}y`, s > 0 ? '>' : '<', `${-c}`);\r\n            console.log(`AKA y`, `${a/b > 0 ? '+' : '-'} ${Math.abs(a/b)}x`, s > 0 ? '>' : '<', `${-c/b}`);\r\n        }\r\n\r\n        let polygonLeft = [], polygonRight = [];\r\n        \r\n        let currentPolygon = polygonLeft;\r\n        let intersections = []\r\n\r\n        for(let i=0; i<thisPolygon.length; i++){\r\n            let p1 = thisPolygon[i];\r\n            \r\n            if(intersections.length === 2){\r\n                currentPolygon.push(p1);\r\n                continue;\r\n            }\r\n\r\n            let j = i+1<thisPolygon.length ? i+1 : 0;\r\n            let p2 = thisPolygon[j];\r\n\r\n            let intersection = findIntersection(line, [p1, p2]);\r\n\r\n            if(intersection){\r\n                if(intersections.length === 1){\r\n                    currentPolygon.push(p1);\r\n                    currentPolygon.push(intersection);\r\n                    currentPolygon=polygonLeft;\r\n                    currentPolygon.push(intersection);\r\n                }\r\n                else{\r\n                    currentPolygon.push(p1);\r\n                    currentPolygon.push(intersection);\r\n                    currentPolygon=polygonRight;\r\n                    currentPolygon.push(intersection);\r\n                }\r\n            \r\n                intersections.push(intersection);\r\n            }\r\n            else{\r\n                currentPolygon.push(p1);\r\n            }\r\n        }\r\n\r\n        const l_p1 =  [\r\n            b !== 0 ? -maxX : -c/a, \r\n            getY(line, -maxX, maxX)\r\n        ];\r\n        const l_p2 = [\r\n            line[1] !== 0 ? maxX : -c/a, \r\n            getY(line, maxX, maxX)\r\n        ];\r\n\r\n        //THERE IS AN INTERSECTION\r\n        //If d>0, polygon is in > region\r\n        //Otherwise in < region\r\n        //If s and d have same sign, polygon is correct\r\n        if(polygonRight.length > 0){\r\n            const barycenter = polygonRight.reduce((prev, curr) => [curr[0] + prev[0], curr[1] + prev[1]], [0,0]).map(n => n/polygonRight.length);\r\n            \r\n            let d = numbers.matrix.determinant([\r\n                [l_p1[0], l_p2[0], barycenter[0]],\r\n                [l_p1[1], l_p2[1], barycenter[1]],\r\n                [1, 1, 1],\r\n            ]);\r\n\r\n            if(b === 0 && a<0) return s*d < 0 ? polygonRight : polygonLeft\r\n            return s*d > 0 ? polygonRight : polygonLeft\r\n        }\r\n        else{\r\n            const barycenter = polygonLeft.reduce((prev, curr) => [curr[0] + prev[0], curr[1] + prev[1]], [0,0]).map(n => n/polygonLeft.length);\r\n\r\n            let d = numbers.matrix.determinant([\r\n                [l_p1[0], l_p2[0], barycenter[0]],\r\n                [l_p1[1], l_p2[1], barycenter[1]],\r\n                [1, 1, 1],\r\n            ]);\r\n\r\n            return s*d >= 0 ? polygonLeft : polygonRight\r\n        }\r\n    }\r\n\r\n    let onClear = () => {\r\n        setFeasibleRegion([]);\r\n        setFile();\r\n        setLines([]);\r\n        setLoading(false);\r\n        setMaxX(30);\r\n        setMessage('');\r\n        setPhase(0);\r\n        setPolygon([ [0,0], [maxX + 5,0], [maxX + 5,maxX + 5], [0,maxX + 5] ]);\r\n        setStage(0);\r\n        setStep(0);\r\n\r\n        setHistory([]);\r\n        setPage(0);\r\n        setFinished(false);\r\n    }\r\n\r\n    let onDownload = () => {\r\n        let link = document.createElement('a');\r\n        link.href =  window.URL.createObjectURL(new Blob([JSON.stringify(file)],{type: 'application/json'}));\r\n        link.setAttribute('download', `problem-${file.subjectTo.A.length}-${Date.now()}`);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n    }\r\n\r\n    let onIntegerSimplexAlgorithm = () => {\r\n        const algorithm = require('../algorithms/cuttingPlane.js')\r\n\r\n        let newPage = null;\r\n        if(phase > 0 && phase < 4){\r\n            newPage = JSON.parse(JSON.stringify(history[page])); \r\n        }\r\n\r\n        let bOverbarGen = null, \r\n            BInvBGen = null, \r\n            FOverbarGen = null, \r\n            bOverbarGenFloor = null, \r\n            BInvBGenFloor = null, \r\n            FOverbarGenFloor = null;\r\n\r\n        if([2,3].includes(phase)){\r\n            bOverbarGen = newPage.bOverbar[newPage.genRowIndex][0];\r\n            BInvBGen = newPage.BInvB[newPage.genRowIndex];\r\n            FOverbarGen = newPage.FOverbar[newPage.genRowIndex];\r\n            \r\n            bOverbarGenFloor = Math.floor(bOverbarGen);\r\n            BInvBGenFloor = BInvBGen.map(n => Math.floor(n));\r\n            FOverbarGenFloor = FOverbarGen.map(n => Math.floor(n));\r\n        }\r\n\r\n        switch(phase){\r\n            case 0:\r\n                //COMPUTE SIMPLEX\r\n                if(finished){\r\n                    newPage = JSON.parse(JSON.stringify(history[page])); \r\n                    newPage.info = [`Simplex algorithm finished`, `Checking integrality of the solution`];\r\n                    setHistory([...history, newPage]);\r\n                    setFinished(false);\r\n                    setPhase(1);\r\n                }\r\n                else {\r\n                    //COMPUTE SIMPLEX\r\n                    onSimplexAlgorithm();\r\n                }\r\n\r\n                break;\r\n            case 1:\r\n                //CHECK INTEGRALITY\r\n                newPage.genRowIndex = algorithm.optimalityTest(newPage.bOverbar);\r\n\r\n                if(newPage.genRowIndex < 0 || newPage.genRowIndex===null){\r\n                    setPhase(5);\r\n                    newPage.finished = true;\r\n                    newPage.info = ['The solution satisfies integrality'];\r\n\r\n                    if(newPage.genRowIndex===null){\r\n                        newPage.infeasible = true;\r\n                        newPage.info.push('But it is infeasible');\r\n                    }\r\n                    else{\r\n                        newPage.info.push('Optimal integer solution found');\r\n                    }\r\n                }\r\n                else {\r\n                    setPhase(2);\r\n                    newPage.info = ['The solution does not satisfy integrality'];\r\n                    newPage.info.push('Applying cutting plane');\r\n                }\r\n                break;\r\n            case 2:\r\n                newPage.info = ['Computing new constraint', 'Applying cut'];\r\n                const newLine = algorithm.computeSlackOrLine(\r\n                    newPage.slacks, \r\n                    -bOverbarGenFloor, \r\n                    BInvBGenFloor, \r\n                    newPage.xBLabels, \r\n                    FOverbarGenFloor, \r\n                    newPage.xFLabels,\r\n                    'line'\r\n                );\r\n\r\n                newPage.lines.push(newLine);\r\n                newPage.polygon = onAdd(newLine, newPage.polygon);\r\n                newPage.feasibleRegion = findIntegerFeasibleRegion(findBoundingBox(newPage.polygon), newPage.polygon);\r\n                setPhase(3);\r\n                break;\r\n            case 3:\r\n                //APPLY CUT\r\n                const newSlackIndex = newPage.xBLabels.length + newPage.xFLabels.length + 1;\r\n\r\n                const xBLabelsOld = [...newPage.xBLabels];\r\n\r\n                const bOverbarRim = [bOverbarGenFloor - bOverbarGen];\r\n                const BInvBRim = numbers.matrix.subtraction([BInvBGenFloor], [BInvBGen]);\r\n                const FOverbarRim = numbers.matrix.subtraction([FOverbarGenFloor], [FOverbarGen]);\r\n\r\n                newPage.xBLabels.push(`x${newSlackIndex}`);\r\n                newPage.cPrimeBarB[0].push(0);\r\n                newPage.bOverbar.push(bOverbarRim);\r\n                newPage.BInvB.push(...BInvBRim);\r\n                \r\n                newPage.info = ['Adding rim to tableau'];\r\n\r\n                //BECAUSE BEFORE THERE WHERE bOverbarGen.length BASE ELEMENTS, NOW bOverbarGen.length+1\r\n                newPage.BInvB = newPage.BInvB.map((n,i) => [...n, i === newPage.bOverbar.length - 1 ? 1 : 0]);\r\n\r\n                newPage.FOverbar.push(...FOverbarRim);\r\n\r\n                newPage.slacks[`x${newSlackIndex}`] = algorithm.computeSlackOrLine(\r\n                    newPage.slacks, \r\n                    bOverbarRim[0], \r\n                    BInvBRim[0], \r\n                    xBLabelsOld, \r\n                    FOverbarRim[0], \r\n                    newPage.xFLabels,\r\n                    'slack'\r\n                );\r\n\r\n                newPage.info.push(`Computing new slack x${newSlackIndex} as function of original variables`);\r\n\r\n                setStage(2);\r\n                setStep(0);\r\n                setPhase(4);\r\n                break;\r\n            case 4:\r\n                if(finished){\r\n                    newPage = JSON.parse(JSON.stringify(history[page])); \r\n                    newPage.info = [`Dual simplex algorithm finished`, `Checking integrality of the solution`];\r\n                    setHistory([...history, newPage]);\r\n                    setFinished(false);\r\n                    setPhase(1);\r\n                }\r\n                else{\r\n                    //FIND NEW X* BY DUAL SYMPLEX\r\n                    //REPEAT FROM 1\r\n                    onSimplexAlgorithm(true);\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if(phase > 0 && phase < 4) setHistory([...history, newPage]);\r\n    }\r\n\r\n    let onSimplexAlgorithm = () => {\r\n        const { objectiveFunction: cPrime, subjectTo: { A, b } } = file;\r\n\r\n        const algorithm = require('../algorithms/simplexTableau.js')\r\n\r\n        let newPage = null;\r\n        if(stage > 0){\r\n            newPage = JSON.parse(JSON.stringify(history[page]));\r\n        }\r\n        \r\n        switch(stage){\r\n            case 0:\r\n                const initValues = {feasibleRegion, info: ['Applying simplex algorithm', 'Initializing tableau'], lines, polygon, ...algorithm.init(A, b, cPrime)};\r\n\r\n                setHistory([initValues]);\r\n                setStage(stage+1);\r\n                break;\r\n\r\n            case 1:\r\n                switch(step){\r\n                    case 0:\r\n                        newPage.indexH = algorithm.optimalityTest(newPage.cPrimeBarF[0]);\r\n                        newPage.info = ['Checking optimality...']\r\n\r\n                        if(isNaN(newPage.indexH)) {\r\n                            newPage.info.push('Found no valid cadidate to enter base');\r\n\r\n                            if(page === 0){\r\n                                let bOverbarIndexes = [];\r\n                                newPage.bOverbar.forEach((el,i) => {if(-el[0] < 0) bOverbarIndexes.push(i)});\r\n\r\n                                newPage.info.push('Checking if problem can be solved with dual simplex');\r\n                                if(bOverbarIndexes.length > 0){\r\n                                    // ADMISSIBLE FOR DUAL SIMPLEX\r\n                                    newPage.info.push('Problem satisfies dual simplex feasibility rules');\r\n\r\n                                    let nonZeroElements = {}\r\n                                    bOverbarIndexes.forEach( idx => {\r\n                                        const count = newPage.FOverbar[idx].filter(n => n>0).length;\r\n                                        nonZeroElements[count] = count in nonZeroElements ? [...nonZeroElements[count], idx] : [idx];\r\n                                    });\r\n                                    const minNonZeroCount = Math.min(...Object.keys(nonZeroElements));\r\n                                    const multiplyByMinusOne = nonZeroElements[minNonZeroCount];\r\n\r\n                                    multiplyByMinusOne.forEach( idx => {\r\n                                        newPage.bOverbar[idx][0] *= -1;\r\n                                        newPage.FOverbar = numbers.matrix.rowScale(newPage.FOverbar, idx, -1);\r\n\r\n                                        const slack = newPage.xBLabels[idx];\r\n                                        newPage.slacks[slack] = [\r\n                                            ...newPage.FOverbar[idx].map(n => -n),\r\n                                            newPage.bOverbar[idx][0]\r\n                                        ]\r\n                                    });\r\n\r\n                                    newPage.info.push(`Multiplying row(s) ${multiplyByMinusOne.map(n => n+1).join(', ')} by -1`);\r\n\r\n                                    setStage(2);\r\n                                    setStep(0);\r\n                                }\r\n                                else{\r\n                                    // NOT ADMISSIBLE FOR DUAL SIMPLEX\r\n                                    newPage.info.push('Problem does not satisfy dual simplex feasibility rules');\r\n                                    setFinished(true);\r\n                                }\r\n                            }\r\n                            else{\r\n                                // NOT ADMISSIBLE FOR DUAL SIMPLEX\r\n                                newPage.info.push('Found optimal solution');\r\n                                setFinished(true);\r\n                            }\r\n                        }\r\n                        else {\r\n                            newPage.info.push(`Solution can be improved`);\r\n                            newPage.info.push(`Found candidate at column ${newPage.indexH+1} of out of base variables`);\r\n                            newPage.info.push(`Variable ${newPage.xFLabels[newPage.indexH]} will enter the base`);\r\n                            newPage.showIndexH = true;\r\n                            setStep(1);\r\n                        }\r\n\r\n                        setHistory([...history, newPage]);\r\n\r\n                        break;\r\n\r\n                    case 1:\r\n                        newPage.info = [`Looking for a valid candidate to leave base`];\r\n                        const pivot = algorithm.findPivot(newPage.bOverbar, newPage.FOverbar, newPage.indexH);\r\n                        newPage = {...newPage, ...pivot};\r\n                        \r\n                        newPage.info.push(`Found candidate at row ${newPage.indexT+1}`);\r\n                        newPage.info.push(`Variable ${newPage.xBLabels[newPage.indexT]} will leave the base`);\r\n                        newPage.info.push(`Found pivot at column ${newPage.indexH+1} of out of base variables, and row  ${newPage.indexT+1}`);\r\n                        newPage.info.push(`Pivot value is ${newPage.FOverbar[newPage.indexT][newPage.indexH]}`);\r\n\r\n                        setStep(2);\r\n                        setHistory([...history, newPage]);\r\n\r\n                        break;\r\n\r\n                    case 2:\r\n                        newPage = algorithm.updateTableau(newPage);\r\n                        newPage.info = [`Apply pivoting and updating tableau`];\r\n\r\n                        setStep(0);\r\n                        setHistory([...history, newPage]);\r\n                        break;\r\n\r\n                    default:\r\n                        break;\r\n                }\r\n                break;\r\n            case 2:\r\n                switch(step){\r\n                    case 0:\r\n                        newPage.info = ['Applying dual simplex', 'Checking dual optimality...']\r\n                        newPage.indexT = algorithm.dualOptimalityTest(newPage.bOverbar);\r\n\r\n                        if(!Number.isInteger(newPage.indexT)) {\r\n                            newPage.info.push('Found optimal solution');\r\n                            setFinished(true);\r\n                        }\r\n                        else {\r\n                            newPage.info.push(`Solution can be improved`);\r\n                            newPage.info.push(`Found candidate at row ${newPage.indexT+1}`);\r\n                            newPage.info.push(`Variable ${newPage.xBLabels[newPage.indexT]} will leave the base`);\r\n                            newPage.showIndexT = true;\r\n                            setStep(1);\r\n                        }\r\n\r\n                        setHistory([...history, newPage]);\r\n\r\n                        break;\r\n\r\n                    case 1:\r\n                        newPage.info = [`Looking for a valid candidate to enter the base`];\r\n                        const pivot = algorithm.dualFindPivot(newPage.cPrimeBarF, newPage.FOverbar, newPage.indexT, newPage.xFLabels);\r\n\r\n                        if(pivot.indexH === null){\r\n                            newPage.info.push(`No valid candidate found`);\r\n                            setFinished(true);\r\n                            newPage.infeasible = true;\r\n                        }\r\n                        else{\r\n                            setStep(2);\r\n\r\n                            newPage.info.push(`Found candidate at column ${pivot.indexH+1}`);\r\n                            newPage.info.push(`Variable ${newPage.xBLabels[newPage.indexT]} will leave the base`);\r\n                            newPage.info.push(`Found pivot at column ${pivot.indexH+1} of out of base variables, and row ${newPage.indexT+1}`);\r\n                            newPage.info.push(`Pivot value is ${newPage.FOverbar[newPage.indexT][pivot.indexH]}`);\r\n                        }\r\n\r\n                        newPage = {...newPage, ...pivot};\r\n                        setHistory([...history, newPage]);\r\n\r\n                        break;\r\n\r\n                    case 2:\r\n                        newPage = algorithm.updateTableau(newPage);\r\n                        newPage.info = [`Apply pivoting and updating tableau`];\r\n\r\n                        setStep(0);\r\n                        setHistory([...history, newPage]);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    let showMessage = message => {\r\n        setMessage(message);\r\n        setTimeout(() => setMessage(''), 5000);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!file && <>\r\n                <div className={file ? classes.dropClosed : classes.drop}>\r\n                    <Dropzone\r\n                        getFile={getFile}\r\n                        hide={file}\r\n                        showMessage={showMessage}\r\n                    />\r\n                </div>\r\n\r\n                <div className={file ? classes.dropClosed : classes.generator}>\r\n                    <ExamplesManager getFile={getFile} loading={loading} />\r\n                </div>\r\n\r\n                <div className={file ? classes.dropClosed : classes.generator}>\r\n                    <RandomManager getFile={getFile} loading={loading} />\r\n                </div>\r\n                \r\n                <div className={classes.spacer}>\r\n                    <Paper className={classes.paper}>\r\n                        <div className={message ? classes.paperDiv : classes.paperDivHide}>\r\n                            {message}\r\n                        </div>\r\n                    </Paper>\r\n                </div>\r\n            </>}\r\n            {file && <Grid container direction='column' className={classes.grid}>\r\n                <Grid container direction='row' item xs={12} className={classes.grid}>\r\n                    <Grid container direction='row' item xs={5} className={classes.grid}>\r\n                        <Grid item xs={12}>\r\n                            <PlotGraph \r\n                                feasibleRegion={history[page] ? history[page].feasibleRegion : feasibleRegion}\r\n                                lines={history[page] ? history[page].lines : lines}\r\n                                maxX={maxX}\r\n                                polygon={history[page] ? history[page].polygon : polygon}\r\n                                point={history[page] ? history[page].point : null}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Button variant='outlined' onClick={onClear}>CLEAR</Button>\r\n                            <Button className=\"SPP-button\" onClick={() => onDownload()}><GetApp/></Button>\r\n                            <Button variant='outlined' disabled={page <= 0} onClick={() => handleHistory()}>{\"<\"}</Button>\r\n                            <Button variant='outlined' disabled={!history[page+1] && history[page] && history[page].finished} onClick={() => handleHistory(true)}>{\">\"}</Button>\r\n                            {history[page] && page}\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid item xs={7} className={classes.grid}>\r\n                        <Tableau page={history[page] ? history[page] : {}} />\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container direction='row' item xs={12} className={classes.grid}>\r\n                    <Grid item xs={5} className={classes.grid}>\r\n                        <OriginalProblem problem={file} />\r\n                    </Grid>\r\n                    <Grid item xs={7} className={classes.grid}>\r\n                        <InfoBox info={history[page] ? history[page].info : []}/>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LPP;","import React from 'react';\r\n\r\nimport NavBar from './components/NavBar';\r\nimport LPP from './components/LPP';\r\n\r\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\r\n\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n  root: {\r\n    textAlign: 'center'\r\n  },\r\n  logo: {\r\n    height: '40vmin'\r\n  },\r\n  header: {\r\n    backgroundColor: '#282c34',\r\n    minHeight: '100vh',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontSize: 'calc(10px + 2vmin)',\r\n    color: 'white'\r\n  },\r\n  link: {\r\n    color: '#09d3ac'\r\n  },\r\n  top: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    width: '100%'\r\n  },\r\n  container: {\r\n    flexGrow: 1,\r\n    zIndex: 1,\r\n    minWidth: 0,\r\n    height: '100vh',\r\n    marginTop: 65\r\n  },\r\n  centerPane: {\r\n    flexGrow: 1,\r\n    height: '100%'\r\n  }\r\n}));\r\n\r\nlet App = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div>\r\n        <Router basename=\"/DS\">\r\n          <div className={classes.top}>\r\n            <NavBar />\r\n            <main className={classes.container}>\r\n              <div className={classes.centerPane}>\r\n                <Switch>\r\n                  <Route\r\n                    exact path=\"/\"\r\n                    component={LPP}\r\n                  />\r\n                </Switch>\r\n              </div>\r\n            </main>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export const formatNumber = (num) => Math.round((num + Number.EPSILON) * 10000) / 10000;\r\n\r\nexport const generate = (m) => {\r\n    let start = {\r\n        \"variables\": [\"x1\", \"x2\"],\r\n        \"objectiveFunction\": [],\r\n        \"subjectTo\": {\r\n            \"A\": [],\r\n            \"b\": [],\r\n            \"sign\": []\r\n        }\r\n    }\r\n    start.objectiveFunction = generateVector();\r\n    for(let i=0; i<m; i++){\r\n        start.subjectTo.A.push(generateVector());\r\n        start.subjectTo.sign.push(generateSign());\r\n        start.subjectTo.b.push(generateCoefficient());\r\n    }\r\n\r\n    console.log(JSON.stringify(start));\r\n\r\n    return start;\r\n}\r\n\r\nconst generateCoefficient = (max=10) => Math.floor(Math.random() * 2 * max + 1) - max;\r\n\r\nconst generateSign = () => Math.random() < 0.5 ? -1 : 1;\r\n\r\nconst generateVector = (n=2) => {\r\n    let arr = [];\r\n    while(arr.length < n) arr.push(generateCoefficient());\r\n    return arr;\r\n}\r\n\r\nexport const getPoint = (xBLables, bOverbar) => {\r\n    let x1Idx = xBLables.indexOf('x1');\r\n    let x2Idx = xBLables.indexOf('x2');\r\n\r\n    let x1 = x1Idx >= 0 ? bOverbar[x1Idx][0] : 0;\r\n    let x2 = x2Idx >= 0 ? bOverbar[x2Idx][0] : 0;\r\n\r\n    return [x1, x2]\r\n}\r\n\r\nexport const getY = (line, x, max=10000) => {\r\n    let r = -(line[0]*(x) + line[2])/line[1];\r\n\r\n    return isFinite(r) ? r : r > 0 ? max : -max;\r\n}\r\n\r\nexport const getX = (line, y, max=10000) => {\r\n    let r = -(line[1]*(y) + line[2])/line[0];\r\n\r\n    return isFinite(r) ? r : r > 0 ? max : -max;\r\n}\r\n\r\nexport const swapColumns = (B, indexT, F, indexH) => {\r\n    B.forEach((el, i) => {\r\n        [el[indexT], F[i][indexH]] = [F[i][indexH], el[indexT]]\r\n    })\r\n\r\n    return [B, F]\r\n}\r\n\r\nexport default {getX, getY, swapColumns};"],"sourceRoot":""}